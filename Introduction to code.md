# Introduction to code

## Code Structure

### /include/

Define class and functions used in /src/ files.

#### dector_class :

function that define class : detector (sub quantum system with vib dof).  

#### full_system_class:

function that define class: full_system  (photon + detector).

This class use function defined in     **detector class**

#### genetic_algorithm_class:

Function that define Extend_Genetic_algorithm() class. This class inherits pyeasyga.GeneticAlgorithm defined in pyeasyga package.

#### Hamiltonian_class.py:

Define class Hamiltonian.  

A simple class which represent Hamiltonian in COO (Coordinate list) format. 

(row ,column, value) tuples. 

#### util.py:

Define functions that Broadcast and transfer data between different process.

Used with mpi4py pacakage.

1. Broadcast_data(data ， num_proc):
   
   Gather data originally in different process and broadcast it to all  processes.
   
   Same to MPI_All_gather() defined in C++.  ([MPI_Allgather | RookieHPC](https://www.rookiehpc.com/mpi/docs/mpi_allgather.php))

    

2. shuffle_data (data , num_proc , arr_random ):
   
   used in Genetic algorithm when we want to migrate genes between different process.

       We gather data together to process 0 , shuffle it according to random_num (arr_random) and then send it back to different process.

#### Constructing_state_module.py:

used to sort state according to their vibrational mode quantum number.  

compare first mode index first , then second , then third ...

For example  (0,0,1 ) < (1,0,1) .  (2,0,1) < (2,1,0).

### /src/

Code that do production work.

#### Genetic algorithm related code :

1. Feed_full_system_to_Genetic_algorithm.py

2. fitness_function.py

#### Test Born rule related code:

1. Born_rule.py : Do simulation using random parameter.

2. Analyze_localization_energy_dist.py :   plot result file generated by Born_rule.py
